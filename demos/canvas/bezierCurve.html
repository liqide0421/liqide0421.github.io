<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=0"><title>BezierCurve</title><style>*{margin:0;padding:0}.canvas{position:fixed;width:100%;height:100%}</style></head><body><canvas class="canvas"></canvas><script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><script src="https://cdn.bootcss.com/touchjs/0.2.14/touch.min.js"></script><script>var sketch={canvas:null,context:null,ratio:null,isDragging:!1,draggedPoint:null,coordinate:{sX:50,sY:100,cX1:100,cY1:50,cX2:200,cY2:200,eX:300,eY:60},init:function(){var t=this;t.initCanvas(),t.initContext(),t.drawBezier(),t.drawPoint(),t.dragPoint()},initCanvas:function(){var t=this,n=$(".canvas").get(0),i=n.getContext("2d"),o=window.devicePixelRatio||1;n.width=n.offsetWidth*o,n.height=n.offsetHeight*o,i.scale(o,o),t.ratio=o,t.canvas=n,t.context=i},initContext:function(){var t=this;t.context.lineWidth=2,t.context.fillStyle="lightgrey",t.context.strokeStyle="blueviolet"},drawBezier:function(){var t=this,n=t.coordinate;t.context.beginPath(),t.context.moveTo(n.sX,n.sY),t.context.bezierCurveTo(n.cX1,n.cY1,n.cX2,n.cY2,n.eX,n.eY),t.context.stroke()},drawPoint:function(t){var n=this,i=0,o=0,e=0;$.each(n.coordinate,function(a,c){e%2?(o=c,n.context.beginPath(),n.context.arc(i,o,5,0,2*Math.PI),n.context.fill(),t&&n.context.isPointInPath(n.ratio*t.x,n.ratio*t.y)&&(n.isDragging=!0,n.draggedPoint=a)):i=c,e+=1})},dragPoint:function(){var t=this,n=!1,i=$(t.canvas),o=t.canvas.width,e=t.canvas.height,a=function(i){if(n&&t.isDragging){var a=t.draggedPoint.replace("Y","X"),c=t.draggedPoint;t.coordinate[a]=i.pageX,t.coordinate[c]=i.pageY,t.context.clearRect(0,0,o,e),t.drawBezier(),t.drawPoint()}},c=function(i){var o={x:i.pageX,y:i.pageY};n=!0,t.drawPoint(o)};i.on({mousedown:function(t){c(t)},touchstart:function(t){c(t.originalEvent.touches[0])}}),i.on({mouseup:function(){n=!1,t.isDragging=!1},touchend:function(){n=!1,t.isDragging=!1}}),i.on({mousemove:function(t){a(t)},touchmove:function(t){a(t.originalEvent.touches[0])}})}};sketch.init()</script></body></html>